> Ось по цим пунктам необхідно сформувати описи, який я створю тікети в HD
> 
>16. Розділити feature та staging оточення по різним бакетам
>
> 17. Створити окрему пару read-only access + secret key для Володимира (для локальної розробки)
>
> 18. Для всіх ключів вказати обмеження по source IP (зовнішні IP старого чи нового серверу, в залежності від ключа)
> 
> 19. Видалити всі права для ключів, крім readwrite доступу до конкретного бакету
>
> 20. Винести тестові оточення на окремий субдомен, який не буде пов'язаний із основним production доменом (brd-project.pp.ua)
>
> 22. Налаштувати для всіх pimcore оточень бекапи для s3 storage у додатковий бакет
> 
> 23. Закрити доступ до feature \ staging оточень по geo
>
> 27. Замінити smtp \ ftp credentials (про всяк випадок)


Для закрытия тикетов: 16, 17, 19 необходимо согласовать список ключей и их права досутпа. К каждому окружению у нас должно оказаться три бакета - assets, backup файлов пима, backup базы данных, где первый используется для хранения загруженных файлов, второй используется для хранения бекапов.

Конвенция по именованию:
brd-brd-(product)-(env)-gr-(purpose)

Далее идет список действий для каждого окружения:
### production
assets - сейчас называется `brocard-pimcore-prod`, необходимо переименовать в `brd-brd-pim-pr-gr-assets` и проверить права доступа

backups - `pim-brd-brd-pim-pr-gr-file-storage` + `pim-brd-brd-pim-pr-gr-mysql-storage`, пожалуйста периеменуйте согласно convention в `brd-brd-pim-pr-gr-file-storage` + `brd-brd-pim-pr-gr-mysql-storage` и проверьте права доступа

### staging

assets - сейчас называется `brocard-pimcore-stage`, необходимо переименовать в `brd-brd-pim-st-gr-assets` и проверить права доступа

backups - `brd-brd-pc-st-gr-file-storage` + `brd-brd-pc-st-gr-mysql-storage` необходимо проверить права доступов 

### feature

assets - сейчас бакета под это окружение нет (используется stage), необходимо добавить `brd-brd-pim-ft-gr-assets`, и добавить ключи к нему.

backups - `brd-brd-pc-ft-gr-file-storage` + `brd-brd-pc-ft-gr-mysql-storage` необходимо проверить права доступа

### infra
grafana - `pim-brd-brd-gf-pr-gr-grafana-storage` + `pim-brd-brd-gf-pr-gr-postgresql` необходимо проверить права доступа, это бакет для хранения бекапов графаны


Из-за того, что в AWS  нет опции переименования бакета, давайте делать переход в несколько этапов:
- создаем новые бакеты, привязываем к ним старые ключи
- просим NodeArt мигировать данные
- удаляем старые бакеты
- 
Либо, если мы совершаем миграцию в cloudflare r2 - то нужно просто создать в нем с ноля все новые бакеты (этот вариант предпочтительней)
## п.18, ограничение по ip
После переноса данных между бакетами можно будет ввести ограничения по ip (до окончания переноса данных не стоит)