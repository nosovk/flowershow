 [Original email-warmup doc](./2025-06-18-email-warmup)
## Mail warmup project plan
### 1. Rails
На этом этапе мы должны заложить основу решения (api contracts generation, lints, cicd).
Со стороны бекенда это:
Інфраструктура + БД (Проєктування схем, Налаштування PostgreSQL + ORM, Ініціалізація Redis, Написання базових CRUD-операці)
Со стороны DevOps необходимо запаковать эти рельсы в докер.
### 2. Agent Agent (автоматизація через браузер)
- Авторизація (Playwright через proxy)
- Отримання inbox/spam
- Витяг mailId з DOM + фільтрація нових листів
- Позначення як прочитаного
- Відповідь на лист
- Перевірка статусів акаунта (active, error, suspended)
- Логіка збереження даних у БД
Після цього необхідно зробити доналаштування CI/CD.
### 3. Job-система
- Реалізація системи постановки задач у jobs
- Агент читає задачу, виконує, оновлює статус
- Типи задач: downloadList, markImportant, respond
### 4. Proxy-менеджмент
- Інтеграція підтримки http/socks-проксі
- Прив’язка проксі до акаунтів
- Тестування проксі
### 5. Тестування та стабілізація
- Тестування авторизації, завантаження, читання листів
- Тестування сценаріїв задач (відповіді, вибір листів)
- Обробка помилок, таймаутів, проксі-фейлів 



## Operational costs
Цена сопровождения состоит из нескольких параметров:
- стоимость оборудования
- стоимость прокси
- стоимость аккаунтов
- стоимость человека эксплуатирующего систему
- доработки при изменениях со стороны мейлру

Разберем каждый пункт отдельно.
### Стоимость оборудования
Мы предлагаем запускать задачи на dedicated server. Обычно это оптимальное решение в плане соотношения производительности\цены. Стоимость обычно составляет от 120 до 200e в месяц, в зависимости от конкретной модели. Вы можете заказать сервер у ITDep, т.к. уже есть сервера на OVH у CAT. Вместо с сервером так же необходимо отдельно покупать ip адерса (примерно 10евро).

### Стоимость прокси
Для работы системы необходимы русские прокси. Попытки соединений не из России приводят к более жестким методам верификации. Прокси в России тарифицируются по используемому траффику. В среднем цена варьируется от 3 до 6 usd за гигабайт трафика.

### Стоимость аккаунтов
Стоимость аккаунтов варьируется на рынке, аккаунты продаются в формате (login, pass, secret phrase), стоимость от 1 до 2 usd. Аккаунтов нужно много, они будут банится и умирать периодически (особенно если попадуться не качественные прокси)

### Стоимость человека эксплуатирующего систему
Необходим квалифицированный оператор системы, который бы вносил данные по купленным аккаунтам, прокси и т.п, а так же управлял задачами (применяя здравый смысл, в том что есть спам, а что не есть спам)

### Доработки при изменениях со стороны мейлру
Самая проблемная часть. Периодически что-то будет ломаться. Кнопка поедет в другое место, добавят новый блок с акцией на страницу с почтой, и т.п. Система будет периодически ломаться, и ее нужно будет чинить.