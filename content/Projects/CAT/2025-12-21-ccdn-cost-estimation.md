# How much efforts do we need to support ours CDN?

## input
- [2025-06-26-cat-cdn](./2025-06-26-cat-cdn.md)
- [2025-8-06-CAT-CDN-Plan](./2025-8-06-CAT-CDN-Plan.md)

## Goal
Попробовать предсказать, сколько усилий (и костов) нам потребуется для поддержки нашего CDN.

## Summary (Оценка FTE)

| Этап                               | Длительность   | Команда (Roles)                                     | Всего FTE (на этап) | Описание                                                              |
| ---------------------------------- | -------------- | --------------------------------------------------- | ------------------- | --------------------------------------------------------------------- |
| 1. Разработка MVP                  | 1.5 - 2 мес.   | 1 FTE DevOps                                        | ~3.0 FTE-months     | Создание Edge-образа, агента конфигурации                             |
| 2. Приведение в экплуатируемый вид | 1 - 1.5 мес.   | 0,5 FTE DevOps (50%) + 1 FTE Full Stack (100%)      | ~1.5-2 FTE-months   | Добавление базового CI/CD и Control Plane.                            |
| 3. Доработка   функционала         | вечный процесс | 0.5-1 FTE DevOps + 0.2-0.5 FTE Full Stack (20%-50%) | 0.5 - 1 FTE/мес.    | Реализация сложной логики (WAF, trafik monitoring, ddos).             |
| 4. Support & Maintenance           | вечный процесс | Shared Resource                                     | 0.5 FTE/мес.        | Реакция на инциденты, ротация сертификатов, управление конфигурацией. |

---

## Detailed Breakdown

### 1. Разработка MVP
**Цель:** Получить рабочий EDGE (Edge Node), который разворачивается через `curl | sh` или docker-compose, умеет тянуть конфиг, получать SSL (Let's Encrypt) и кешировать статику.

На данный момент мы на 3\4 этого этапа. Осталось реализовать:

*   инструменты разворачивания: docker-compose и curl команды для деплоя edge узла.
*   админку: необходимо сделать какой-то интерфейс для управления конфигурацией и мониторинга, а так же апи.

### 2. Опытная эксплуатация (Pilot)
**Цель:** Выжить под нагрузкой и стабилизировать решение.

Это следующий этап, на котором мы обнаруживаем какие аспекты работы мы не учли и ищем способ их решения.
Предположительно за месяц мы сможем разобраться с основными проблемами и начать эксплуатацию.
ВАЖНО: проблемы с DNS балансировкой и DDOS не входят в этот этап.

### 3. Сбор требований и Разработка V2 (Loop)
**Цель:** Реализовать сложные сценарии работы CDN.

*   Реализация правил балансировки нагрузки (Load Balancing Rules)
*   DNS Management (Post-MVP): Это отдельный большой пласт. Свой DNS-балансировщик или интеграция с Cloudflare через API. 

### 4. Поддержка (Maintenance)
**Цель:** Обеспечение SLA.

CDN требует постоянного внимания.
*   Мониторинг: Кто-то должен реагировать на алерты. 
*   DDOS: борьба с DDOS атаками.
*   Управление серверами: Добавление/удаление серверов, оплата хостинга, менеджмент IP-адресов.

## Costs Calculation
Измеряем стоимость в Full Time Employee (FTE), где 1 FTE = 40 часов в неделю.

> **Note:** Оценка не включает стоимость инфраструктуры (VPS, Traffic, Domains), только косты на людей.
