Вводные данные:
> **Общее описание**
>
> **BookDuel** – это Telegram-приложение, в котором пользователи соревнуются в знаниях о книгах, участвуют в викторинах и зарабатывают призы. Приложение включает систему соревнований, реферальную программу и систему вознаграждений за полезные комментарии.
> 
> **Ключевые функции**
>
> **1. Викторины и соревнования**
>
> - Раз в неделю проводится соревнование по одной выбранной книге.
> - Первый этап – **королевская битва**, в которой участвуют все пользователи.
> - 100 лучших игроков проходят во второй этап и гарантированно получают призы.
> - Финальные этапы: **ТОП-10, ТОП-3, Победитель** – получают увеличенные призовые.
> - Победитель определяется по количеству правильных ответов и затраченному времени.
> - Книги публикуются заранее на месяц вперед. Формат -картинка +текстовое описание
> - Интерфейс для просмотра статистики по прошлым играм. Рейтинг победителей топ 100 по играм
>
> **2. Призовая система**
>
> - Общий призовой фонд: 10 000 USD на 10 игр.
> - Призовые выплаты:
>
> - ТОП-100: 4 USD на игрока.
> - ТОП-10: 30 USD на игрока.
> - ТОП-3: 60 USD на игрока.
> - Победитель: 100 USD.
>
> - Призы выплачиваются в **TON (Toncoin)**.
> - Минимальная сумма к выводу – 50 USD.
>
> **3. Реферальная программа**
>
> - Пользователи могут приглашать друзей через уникальную ссылку.
> - За каждого приглашенного подписчика начисляется 0.10 USD в токенах TON.
> - Статистика рефералов отображается в личном кабинете.
>
> **5. Внутренний баланс и экономика**
> 
> - Пользователи зарабатывают токены через:
>
> 	- Победы в викторинах.
> 	- Реферальные бонусы.
>
> - Токены можно тратить на:
> 	- Вывод на кошелек TON (при достижении минимального лимита 50 USD). |

## Описание
Приложение должно быть выполнено в виде Telegram Web Application (TWA). Это означает что это веб сайт, с авторизацией через телеграмм и возможностью подключить кошелек Telegram Wallet.
Функционал бота должен включать возможность напоминать о событиях, которые будут анонсированы, или об играх.

## Функциональные блоки\экран
### Bot: start
Настраиваемое приветствие (поддержка нескольких языков, текст задается в админ панели, содержит ссылку на запуск web app)
### Bot: announce
В админ панели можно написать анонс книг, в формате маркдаун с возможностью приложить картинки. Для анонса можно указать время отправки. При достижении этого времени все пользователи бота получают сообщение с анонсом (если не отключили получение нотификаций в профиле)
### Bot: game start
При старте игры, пользователи получают информацию о начале игры, сообщение задаются в настройках игры. Пользователь может отключить этот тип нотификаций в профиле.

### Web: start page
Стартовая страница, на которой мы показываем информацию из текущего анонса и ссылку на текущую игру, если она идет. Страница содержит кнопки перехода на: история анонсов, история игр, профиль.
### Web: история анонсов
Инфинит скролл со списком анонсов. Каждый анонс должен содержать информацию из аннотации (title анонса, дата начала, дата конца). Нажатие на анонс открывает страницу анонса.
### Web: история игр
Инфинит скролл со списком игр. Каждая игра должна содержать информацию из описания игры (title игры, дата проведения игры, статус выигрыша). Нажатие на игру в списке игр открывает страницу игры

### Web: страница анонса
Страница с отрендеренным маркдаун текстом, в которой мы показываем текст аннонса и приложенные картинки.

### Web: страница игры
Страница игры содержит информацию о призовых местах и выигрышах. Страница игры содержит кнопку перехода в викторину. Страница игры содержит информацию о победе в викторине (если она была)

### Web: страница викторины
Показывает степпер с вопросами. На каждом экране можно выбрать один вариант ответа. Если человек ранее уже играл в эту викторину мы показываем отмеченными ране данные ответы и подсвечиваем правильные ответы.

### Web: страница профиля
На странице профиля можно привязать ton кошелек, можно изменить настройки нотификации (получать информацию об анонсах, получать информацию об играх). На странице профиля можно посмотреть свой баланс. На странице профиля есть кнопка "скопировать реферальную ссылку", а так же счетчик количества приведенных рефералов.

### BI: отчет о победителях
Отчет, в котором можно выбрать title игры, и посмотреть статистику ответов и победителей.

### TG: admin
Команда для отправки денег одному из пользователей. Предполагается что призы выдаются в ручную (частое явление что победитель может не иметь кошелька привязанного)

## Сущности в админ панели
### Анонс
Содержит поля:
- title: название анонса
- description: маркдаун описание анонса
- images: список привязанных картинок
- date: дата в которую необходимо отправить анонс
### Игра
Содержит поля:
- title: название анонса
- description: маркдаун описание анонса
- images: список привязанных картинок
- date: дата в которую необходимо провести игру
- dynamic field: группа полей
	- каждое поле описывает отдельный вопрос, а так же правильный ответ

## Техническая часть
- админ панель: [strapi](https://strapi.io/)
- сервер api: [Fastify](https://fastify.dev/) + [Redis](https://redis.io/)
- бот: [Grammy](https://grammy.dev/)
- веб часть: [SvelteKit](https://svelte.dev/docs/kit/introduction)
- история/аналитика/bi: [Google Big Query](https://cloud.google.com/bigquery) + [Metabase](https://www.metabase.com/)

## Команда
- Fullstack (sveltekit)
- Backend (Strapi, Redis, Fastify)
- Devops (поднять все), PM (контроль сроков и понятности задач).
Предполагается что дизайн будет предоставлен.

Предположительно реализация может занять от месяца, в зависимости от деталей реализации (дизайн, не до описанные экраны\функциональные блоки)

