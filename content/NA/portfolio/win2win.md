# Клиент: win2win
## Домен: 
iGaming
#iGaming 
## Какие задачи перед нами ставились / Какие проблемы решали :
Запуск казино на рынок СНГ с интеграцией с несколькими платежками и поставщиками игр. Имлементация нового дизайна.
Наибольшие блоки:
- реализация авторизации по телефону
в CAS не предполагалось использование телефона как основного метода авторизации, поэтому для того чтобы впилить телефоны пришлось допилить FOS User Bundle, так же это выявило проблемы с адаптацией фронта завязанного на vanilajs (поправить фронт часть оказалось очень сложно)
- реализация интеграции с внешним механизмом кешбеков
киллекр фичей продукта стал эксклюзивный механизм кешбеков, для реализации которого был сделанн отдельный микросервис который взамиодействует с CAS по API. Это потребовало доработки несколькних модулей (кастомный CRON, новые срезы в Transactions для расчета бонусов)
- реализация интеграции с битрикс24
битрикс заложен как система позволяющая строить цепочки взаимодействий с клиентами
- реализация встраивания svetle внутрь twig шаблонов
vanilajs с елементами html оказалось очень трудно править/кастомизировать, поэтому для таких бловов внедрили поддержку Svelte компонент, в которые преенесли формы авторизации и прочие формы которые не должны ренедрится для сео, но содержат html шаблоны внтури (что сильно повысило их читабельность)
- реализовали набор новых апи методов под специфические функции на фронте
## Как реализовали:
Взяли готовый CAS, отделили его от Pravda.Casino, там где не хватало возможностей допилили новые структуры и методы. Из больного - оказалось очень сложно править фронт на vanilajs, так же оказалось что ребятам сильно проще работать с rest вместо twig, поэтому часть методова переписали на REST.

## Какие технологии мы использывали: 
PHP Symfony, twig, vanilajs, svelte (на него переделали интерактивные блоки), docker swarm, cron

## Сколько людей всего работали на проекте:
С нашей стороны: Дима (php), Женя (devops), Носов (somebody)
Со стороны заказчика: 2php dev, 2 front dev, 1 pm, 1 po, 2 designer